{%extends 'base.html'%}
{% block styles %}
<style>
    body {
        text-align: center;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        font-size: 20px; 
        background-color: #FEE8D6; 
        color: #555555; 
    }

    h1 {
        text-align: center;
        padding: 20px 0;
        font-size: 40px; 
        color: #FF9913; 
        max-width: 400px;
        margin: 20px auto; 
        padding: 20px;
        background-color: #fff; 
        border-radius: 20px; 
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    h2 {
        text-align: center;
        font-size: 30px; 
        color: #FF9913; 
    }
    a {
        text-decoration: none;
        color: #FF9913; 
        transition: color 0.3s ease; 
    }

    a:hover {
        color: #555555; 
        border: none;
        color: black;
        opacity: 0.6;
        max-width: 800px;
        margin: 50px auto; 
        padding: 5px;
        background-color: #FF9913; 
        border-radius: 8px; 
    }

    #content {
        max-width: 800px;
        margin: 20px auto; 
        padding: 20px;
        background-color: #fff; 
        border-radius: 8px; 
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }
    p{
        margin: 0
    }
    
</style>
{% endblock styles %}
{%block header%}
<h1>Merchandise Store Details!</h1>
{%endblock header%}

{%block content%}
<h2>{{object.name }} </h2>
<br>Owner: {{object.Owner}}

<br>Price: {{object.price}} Pesos
<br>Description: {{ object.description }}
<br>
<br><b>Stock: {{object.stock}}</b>

    {% if object.stock < 5 and object.stock > 0  %}
        <br><font size="-1">There is little stock left for this product!</font>
    {% endif %} 
<br><b>Status: {{object.status}}</b>
<br>

{% if object.Owner != request.user.profile %}    
    <form method="post" action="" enctype= multipart/form-data>
    {% csrf_token %}
    {{ transaction_form.as_p }}
    
{% endif %}
{%if errors.OverBuy%}
    <br>This transaction is <b>invalid</b> kindly input an amount thats <b>within</b> the stock.
{%endif%}
{%if errors.NoAmount%}
    <br>This transaction is <b>invalid</b> kindly input an amount.
{%endif%}
{% if object.Owner != request.user.profile and object.stock  != 0 %}    
    <br><button type="submit">Purchase</button>
{% endif %}
{% if object.Owner != request.user.profile and object.stock  == 0 %}
    <button disabled>Purchase</button>
    <br>This product is currently Out of Stock!
{% endif %}
</form>


{% if object.Owner  == request.user.profile %}
   <br> <a href= "{% url 'merchstore:product_update' pk=object.pk %}" > Update this Product Here!</a>
{% endif %} 





<h5><a href="/merchstore/items"> Return to Homepage </a></h5>
{%endblock content%}